(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{73:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a,c,s,l=n(2),r=n.n(l),i=n(64),o=n.n(i),j=n(25),h=n(9),d=n(16),m=(n(73),n(42)),b=n(41),g=Object(d.gql)(a||(a=Object(b.a)(["\n    query getPeopleList($page: String!) {\n        getPeopleList(page: $page) {\n            count\n            next\n            previous\n            results {\n                name\n                mass\n                height\n                gender\n                homeworld\n                url\n            }\n        }\n    }\n"]))),u=Object(d.gql)(c||(c=Object(b.a)(["\n    query getPeopleDetails($id: Int!) {\n        getPeopleDetails(id: $id) {\n            name\n            mass\n            height\n            gender\n            homeworld\n        }\n    }\n"]))),p=Object(d.gql)(s||(s=Object(b.a)(["\n    query searchPeople($name: String!) {\n        searchPeople(name: $name) {\n            count\n            next\n            previous\n            results {\n                name\n                mass\n                height\n                gender\n                homeworld\n                url\n            }\n        }\n    }\n"]))),x=n(4),O=function(e){var t=e.handleChange,n=e.handleClick,a=e.search;return Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("input",{type:"text",className:"form-control",value:a,onChange:t,placeholder:"Search something...",autoFocus:!0}),Object(x.jsx)("button",{className:"input-group-text",onClick:n,children:"Search"})]})},v=function(e){var t=e.people,n=t.url.split("/"),a=n[n.length-2];return Object(x.jsx)(j.b,{to:"/people/".concat(a),className:"text-decoration-none text-dark",children:Object(x.jsx)("div",{className:"card card-body mb-3",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-md-9",children:[Object(x.jsxs)("div",{children:["Name: ",t.name]}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("span",{children:["Mass: ",t.mass]}),Object(x.jsxs)("span",{className:"mx-1",children:["Height: ",t.height]}),Object(x.jsxs)("span",{className:"mx-1",children:["Gender: ",t.gender]})]})]})})})})},N=function(e){var t,n,a,c=e.pagination,s=Math.ceil(c.count/10);if(null!==c.next){var l=c.next.split("page=");t=parseInt(l[l.length-1])-1}else t=s;if(null!=c.next){var r=c.next.split("/?");n=r[r.length-1]}if(null!=c.previous){var i=c.previous.split("/?");a=i[i.length-1]}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("nav",{"aria-label":"Page navigation",children:Object(x.jsxs)("ul",{className:"pagination",children:[Object(x.jsx)("li",{className:"page-item ".concat(void 0===a?"disabled":""),children:Object(x.jsx)(j.b,{to:"/".concat(a),className:"page-link",children:"Previous"})}),Object(x.jsx)("li",{className:"page-item ".concat(void 0===n?"disabled":""),children:Object(x.jsx)(j.b,{to:"/".concat(n),className:"page-link",children:"Next"})})]})}),Object(x.jsxs)("div",{className:"mb-3",children:["Page ",t," of ",s+" | "+c.count," results"]})]})},f=function(e){var t=Object(h.e)(),n=Object(l.useState)(""),a=Object(m.a)(n,2),c=a[0],s=a[1],r=Object(l.useState)(),i=Object(m.a)(r,2),o=i[0],j=i[1],b=e.match.params.page,u=Object(d.useQuery)(g,{variables:{page:b||"page=1"}}),f=u.loading,w=u.error,P=u.data,y=Object(d.useLazyQuery)(p,{variables:{name:"/search="+c},onCompleted:function(e){j(e.searchPeople)}}),C=Object(m.a)(y,1)[0];if(f)return Object(x.jsx)("h5",{className:"text-center mt-5",children:"Loading..."});if(w)return Object(x.jsx)("h5",{className:"text-center mt-5",children:"Something went wrong!"});var k=P.getPeopleList;return o&&(k=o),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O,{handleChange:function(e){return s(e.target.value)},handleClick:function(e){return C(),void(c.length>0?t.push("/search="+c):t.replace("/"))},search:c}),Object(x.jsx)(N,{pagination:k}),k.results.map((function(e){return Object(x.jsx)(v,{people:e},e.url)})),Object(x.jsx)("div",{className:"text-center my-4",children:Object(x.jsxs)("small",{children:["Made with ",Object(x.jsx)("span",{role:"img","aria-label":"love",children:"\u2764"})," by ",Object(x.jsx)("a",{href:"mailto:nelhamstrong9@gmail.com",children:"Nelh Amstrong"})]})})]})},w=function(e){var t=Object(h.e)(),n=e.match.params.id,a=Object(d.useQuery)(u,{variables:{id:parseInt(n)}}),c=a.loading,s=a.error,l=a.data;if(c)return Object(x.jsx)("h5",{className:"text-center mt-5",children:"Loading..."});if(s)return Object(x.jsx)("h5",{className:"text-center mt-5",children:"Something went wrong!"});var r=l.getPeopleDetails,i=r.name,o=r.mass,j=r.height,m=r.gender,b=r.homeworld;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h4",{className:"my-3",children:"People details"}),Object(x.jsxs)("ul",{className:"list-group mb-4",children:[Object(x.jsxs)("li",{className:"list-group-item text-white",children:["Name: ",i]}),Object(x.jsxs)("li",{className:"list-group-item text-white",children:["Mass: ",o]}),Object(x.jsxs)("li",{className:"list-group-item text-white",children:["height: ",j]}),Object(x.jsxs)("li",{className:"list-group-item text-white",children:["gender: ",m]}),Object(x.jsxs)("li",{className:"list-group-item text-white",children:["homeworld: ",b]})]}),Object(x.jsx)("button",{className:"btn btn-secondary",onClick:function(){return t.goBack()},children:"Back"})]})},P=n.p+"static/media/logo.de1cdc4e.png";var y=function(){var e=new d.ApolloClient({uri:"/graphql",cache:new d.InMemoryCache});return Object(x.jsx)(d.ApolloProvider,{client:e,children:Object(x.jsx)(j.a,{children:Object(x.jsxs)("div",{className:"container mt-5",children:[Object(x.jsx)("img",{src:P,className:"logo",alt:"logo"}),Object(x.jsx)(h.a,{exact:!0,path:"/:page?",component:f}),Object(x.jsx)(h.a,{path:"/people/:id",component:w})]})})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),a(e),c(e),s(e),l(e)}))};o.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(y,{})}),document.getElementById("root")),C()}},[[84,1,2]]]);
//# sourceMappingURL=main.9f4733df.chunk.js.map